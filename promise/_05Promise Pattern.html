<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
    /*
        Promise Pattern
    */
    function delayPromise(sec){
        return new Promise((resolve,reject)=>{
            // resolve : 정상적동시 리턴
            // reject : 예외발생시 호출
            setTimeout(() => {
                resolve(new Date().toISOString());
            }, sec*1000);
        });
    }

    
    delayPromise(1)                 // 1. delayPromise(1) 실행시 resolve 리턴
    .then((result)=>{               // 2. 리턴된 resolve은 .then 을 통해 접근
        console.log(1,result);
        return delayPromise(1);     // 3. resolve에서 Promise를 리턴한다면 추가적인 작업을 할 수 있음.
    }).then((result)=>{
        console.log(2,result);
        return delayPromise(1);
    }).then((result)=>{
        console.log(3,result);
                                    // 4. 리턴값을 지정하지 않으면 resolve되지않은 Promise 리턴
    }).then((result)=>{
        console.log(result);        // undefined
    });

    </script>
</body>
</html>